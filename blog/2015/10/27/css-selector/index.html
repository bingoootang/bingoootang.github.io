<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSS 选择器 | Bingooo.Tang 的日志</title>
    <meta name="description" content="css选择器,css selector">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="preload" href="/assets/css/0.styles.45fd1eb4.css" as="style"><link rel="preload" href="/assets/js/app.1a92a99b.js" as="script"><link rel="preload" href="/assets/js/2.4bb95436.js" as="script"><link rel="preload" href="/assets/js/13.3780b65b.js" as="script"><link rel="preload" href="/assets/js/9.60a9ad14.js" as="script"><link rel="prefetch" href="/assets/js/10.ff19f3cc.js"><link rel="prefetch" href="/assets/js/11.e260adce.js"><link rel="prefetch" href="/assets/js/12.e1d4dc76.js"><link rel="prefetch" href="/assets/js/14.821eca39.js"><link rel="prefetch" href="/assets/js/15.947a489c.js"><link rel="prefetch" href="/assets/js/16.31117fc6.js"><link rel="prefetch" href="/assets/js/17.aa761a41.js"><link rel="prefetch" href="/assets/js/18.38e91cd9.js"><link rel="prefetch" href="/assets/js/19.2f0ddeb0.js"><link rel="prefetch" href="/assets/js/20.98a05b39.js"><link rel="prefetch" href="/assets/js/21.12bee07e.js"><link rel="prefetch" href="/assets/js/22.825b5c65.js"><link rel="prefetch" href="/assets/js/23.5a7523f8.js"><link rel="prefetch" href="/assets/js/24.d4db672e.js"><link rel="prefetch" href="/assets/js/25.9dc639ba.js"><link rel="prefetch" href="/assets/js/26.bb89ef52.js"><link rel="prefetch" href="/assets/js/27.9b952333.js"><link rel="prefetch" href="/assets/js/28.36b12119.js"><link rel="prefetch" href="/assets/js/29.b3fc89ab.js"><link rel="prefetch" href="/assets/js/3.914428ae.js"><link rel="prefetch" href="/assets/js/30.8403f552.js"><link rel="prefetch" href="/assets/js/31.3a71fc7c.js"><link rel="prefetch" href="/assets/js/32.f63547d0.js"><link rel="prefetch" href="/assets/js/33.30c37fb4.js"><link rel="prefetch" href="/assets/js/34.b1e97f3f.js"><link rel="prefetch" href="/assets/js/35.ab2a7a8c.js"><link rel="prefetch" href="/assets/js/36.5d422d5b.js"><link rel="prefetch" href="/assets/js/37.839e7d79.js"><link rel="prefetch" href="/assets/js/38.72e8bf2f.js"><link rel="prefetch" href="/assets/js/39.9a05368b.js"><link rel="prefetch" href="/assets/js/4.5c559b86.js"><link rel="prefetch" href="/assets/js/40.a8400673.js"><link rel="prefetch" href="/assets/js/41.ead2592b.js"><link rel="prefetch" href="/assets/js/42.2b99ba39.js"><link rel="prefetch" href="/assets/js/43.340f4287.js"><link rel="prefetch" href="/assets/js/44.6bf6391c.js"><link rel="prefetch" href="/assets/js/45.c33e2690.js"><link rel="prefetch" href="/assets/js/46.acfb4c4c.js"><link rel="prefetch" href="/assets/js/47.0d284677.js"><link rel="prefetch" href="/assets/js/48.7e5faf9d.js"><link rel="prefetch" href="/assets/js/49.70243ee5.js"><link rel="prefetch" href="/assets/js/5.4f064dd5.js"><link rel="prefetch" href="/assets/js/50.a70d1e3a.js"><link rel="prefetch" href="/assets/js/51.54705e9f.js"><link rel="prefetch" href="/assets/js/52.5e8b3d7e.js"><link rel="prefetch" href="/assets/js/53.03656bc8.js"><link rel="prefetch" href="/assets/js/54.d3b3024e.js"><link rel="prefetch" href="/assets/js/55.b8b66fcf.js"><link rel="prefetch" href="/assets/js/56.bcc27a01.js"><link rel="prefetch" href="/assets/js/57.dd12e611.js"><link rel="prefetch" href="/assets/js/6.8113e0b5.js"><link rel="prefetch" href="/assets/js/7.222800b2.js"><link rel="prefetch" href="/assets/js/8.84f16d44.js">
    <link rel="stylesheet" href="/assets/css/0.styles.45fd1eb4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Bingooo.Tang 的日志</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">教程</a></div><div class="nav-item"><a href="/tools/" class="nav-link">工具</a></div> <a href="https://github.com/bingoootang" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">教程</a></div><div class="nav-item"><a href="/tools/" class="nav-link">工具</a></div> <a href="https://github.com/bingoootang" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="content default"><h1 id="css-选择器"><a href="#css-选择器" aria-hidden="true" class="header-anchor">#</a> CSS 选择器</h1> <p>在css中，通过模式匹配规则来决定给文档树中的元素应用什么样的样式。这些模式规则就被称为选择器。一个选择器可能只是一个单一的元素名称，也可能是包含复杂上下文的模式规则集合。如果一个元素满足一个选择器中的所有条件，我们就称这个选择器选中了该元素。<br>
下面的这张表格概要的展示了CSS2.1的选择器语法：<br> <img src="http://i.imgur.com/427yFtC.png" alt="选择器语法"></p> <h2 id="_1-选择器语法"><a href="#_1-选择器语法" aria-hidden="true" class="header-anchor">#</a> 1.选择器语法</h2> <p>一个选择器既可以是类型选择器，又可以是全局选择器，也可以是前面二者与零个或多个属性选择器、ID选择器或伪类组合形成的选择器集合。如果一个元素满足一个选择器中的所有组成条件（单个简单选择器），那么这个元素满足该选择器。<br>
一个选择器由以连接符分隔的众多单个简单选择器组成。连接符包含： 空白字符、&quot;&gt;&quot;和&quot;+&quot;。空白字符也可以出现在连接符与单个选择器之间。<br>
文档树中满足一个选择器的元素被称作这个选择器的主体。一个包含单个简单选择器的选择器匹配所有满足条件的任何元素。当在一个选择器前面增加一个单个简单选择器时，实际上是在原来的基础上增加了额外的约束条件。所以，一个选择器的主体总是该选择器中最后一个单个简单选择器的主体的子集。<br>
例如：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p em</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的选择器的主体就是它的单个简单选择器em的主体的子集。</p> <h3 id="_2-1-分组"><a href="#_2-1-分组" aria-hidden="true" class="header-anchor">#</a> 2.1 分组</h3> <p>当多个选择器拥有相同的约束条件时，可以用逗号对他们进行分组。<br>
在下面的例子中，我们将拥有完全相同的约束条件的三个选择器压缩成一个。因此，</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">}</span>  
<span class="token selector">h2</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">}</span>  
<span class="token selector">h3</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>与</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1, h2, h3</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>相同。</p> <h2 id="_3-全局选择器"><a href="#_3-全局选择器" aria-hidden="true" class="header-anchor">#</a> 3.全局选择器</h2> <p>全局选择器，也就是*，匹配任何类型的元素。它匹配文档树中的任何单一元素。<br>
如果全局选择器与其他选择器一起使用，那么*将被省略。比如：</p> <ul><li>*[lang=fr] 与 [lang=fr] 相同</li> <li>*.warning 与 .warning 相同</li> <li>*#myid 与 #myid 相同</li></ul> <h2 id="_4-类型选择器"><a href="#_4-类型选择器" aria-hidden="true" class="header-anchor">#</a> 4.类型选择器</h2> <p>一个类型选择器匹配一种元素类型。类型选择器匹配文档树中该类型的任何实例。<br>
下面的选择器匹配文档树中所有的H1元素：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">}</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_5-后代选择器"><a href="#_5-后代选择器" aria-hidden="true" class="header-anchor">#</a> 5.后代选择器</h2> <p>很多时候，我们希望选择器可以匹配文档树中的某个元素，而这个元素又是另一个元素的后代元素（比如，匹配那些H1元素中的EM元素）。后代选择器就表达了这样的关系。一个后代选择器由两个或多个由空白字符分隔的选择器组成。形如&quot;A B&quot;的后代选择器匹配B元素，且B元素是A元素的任意一个后代。<br>
举个例子，考虑下面的两条规则：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>  
<span class="token selector">em</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>尽管上面两条规则的本意是通过改变文本的颜色来展现强调效果，但是在如下的例子中，强调的效果就不存在了：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>H1</span><span class="token punctuation">&gt;</span></span>This headline is<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EM</span><span class="token punctuation">&gt;</span></span>very<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EM</span><span class="token punctuation">&gt;</span></span> important<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>H1</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们再补充一条规则来使得H1中的任何EM的文本颜色都是蓝色的：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>  
<span class="token selector">em</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>  
<span class="token selector">h1 em</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>第三条规则在下面的代码片段中将会匹配EM元素：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>H1</span><span class="token punctuation">&gt;</span></span>This <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SPAN</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myclass<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>headline  
is <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EM</span><span class="token punctuation">&gt;</span></span>very<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EM</span><span class="token punctuation">&gt;</span></span> important<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SPAN</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>H1</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>下面的这个选择器：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code>div * p  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将会匹配P元素，这个P元素至少是DIV的孙子元素（*匹配任何元素）。<br>
下面这个选择器，包含了后代选择器和属性选择器，将匹配任何（1）设置了href属性并且（2）在P元素中同时P元素在一个DIV元素中的元素。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code>div p *[href]  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_6-子选择器"><a href="#_6-子选择器" aria-hidden="true" class="header-anchor">#</a> 6.子选择器</h2> <p>子选择器匹配某个元素当且仅当这个元素是另一个元素的子元素的时候。一个子选择器由两个或多个由&quot;&gt;&quot;分隔的选择器组成。<br>
如下选择器将会设置所有是BODY的子元素的P元素的样式：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body &gt; p</span> <span class="token punctuation">{</span><span class="token property">line-height</span><span class="token punctuation">:</span> 1.3px<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面这个选择器包含了后代选择器和子选择器：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code>div ol &gt; li p  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>该选择器匹配这样的P元素：这个P元素是LI的后代，而LI是OL的子元素，同时OL是DIV的后代。</p> <h2 id="_7-相邻兄弟选择器"><a href="#_7-相邻兄弟选择器" aria-hidden="true" class="header-anchor">#</a> 7.相邻兄弟选择器</h2> <p>相邻兄弟选择器的语法形式为： E1 + E2，当中E2是该选择器的主体。选择器匹配这样的元素： E1和E2拥有共同的父元素，并且在文档树中，E1为在E2之前紧挨着E2的元素（忽略非元素节点，如文本节点和注释节点）。<br>
因此，如下选择器表示当P元素为MATH元素的相邻兄弟元素时，P不缩进：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">math + p</span> <span class="token punctuation">{</span><span class="token property">text-indent</span><span class="token punctuation">:</span> 0<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面的这个例子减小了H1和紧随H1的H2的垂直距离：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1 + h2</span> <span class="token punctuation">{</span><span class="token property">margin-top</span><span class="token punctuation">:</span> -5mm<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面的这个选择器在上面的例子基础上增加了一个类选择器，因此当H1有opener类时才会被这选中：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1.opener + h2</span> <span class="token punctuation">{</span><span class="token property">margin-top</span><span class="token punctuation">:</span> -5mm<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_8-属性选择器"><a href="#_8-属性选择器" aria-hidden="true" class="header-anchor">#</a> 8.属性选择器</h2> <p>CSS2.1 允许文档的作者给源文档中定义了某种属性的元素应用规则。</p> <h3 id="_8-1"><a href="#_8-1" aria-hidden="true" class="header-anchor">#</a> 8.1</h3> <p>属性选择器共有四种：</p> <ol><li>[att]<br>
匹配设置了att属性的元素，不管属性的值是什么</li> <li>[att=val]<br>
匹配att属性值等于&quot;val&quot;的元素</li> <li>[att~=val]<br>
匹配这样的元素，该元素的att属性的值是一个由空白字符分隔的多个值组成的列表，这些值中有一个为&quot;val&quot;。如果&quot;val&quot;包含空白字符  ，则该条规则不生效（因为属性值列表就是有空白字符分隔的）。如果&quot;val&quot;是一个空字符串，该条规则也不生效。</li> <li>[att|=val]<br>
匹配这样的元素，该元素的att属性要么就等于&quot;val&quot;，要么以&quot;val&quot;开头并且紧跟一个&quot;-&quot;(U+002D)。该规则主要用于匹配语言区域码。</li></ol> <p>属性值必须是标识符或者字符串。选择器中的属性名是否大小写敏感由文档语言决定。<br>
例如，下面的选择器匹配设置了title属性的所有H1元素，不管title的值是什么：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1[title]</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如下的选择器将会匹配所有的class属性值为&quot;example&quot;的SPAN元素：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">span[class=example]</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> bule<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>多个属性选择器可以用于同一个元素的多个属性，甚至可以多次应用于同一个元素的同一个属性。</strong>
如下选择器匹配所有的hello属性值为&quot;Cleveland&quot;，并且goodbye属性值为&quot;Columbus&quot;的SPAN元素：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">span[hello=&quot;Cleveland&quot;][goodbye=&quot;Columbus&quot;]</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面的选择器展示了&quot;=&quot;与&quot;~=&quot;的不同。第一个选择器将会匹配rel属性的值为&quot;copyright copyleft copyeditor&quot;的A元素，而第二个选择器将仅会匹配href属性值为&quot;http://www.w3.org/&quot; 的A元素。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code>a[rel~=<span class="token string">&quot;copyright&quot;</span>]  
a[href=<span class="token string">&quot;http://www.w3.org/&quot;</span>]  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如下选择器将会隐藏所有lang属性为&quot;fr&quot;（法语）的元素：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*[lang=fr]</span> <span class="token punctuation">{</span><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面这个选择器将会匹配所有的lang属性以&quot;en&quot;开头（包括&quot;en&quot;, &quot;en-US&quot;, &quot;en-cockney&quot;）的元素，</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*[lang|=&quot;en&quot;]</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-2-dtds中的默认属性值"><a href="#_8-2-dtds中的默认属性值" aria-hidden="true" class="header-anchor">#</a> 8.2 DTDs中的默认属性值</h3> <p>属性选择器匹配文档树中元素的属性值。默认的属性值一般会保存在一份DTD中或者其他的什么地方，但是不一定总是可以被选择器匹配到。我们的样式表需要在默认值没有被包含在文档树中的时候也能正常工作。<br>
更准确的说，UA（User Agent用户客户端）可能但不被强制去读DTD的“外部子集”，但被要求在文档的“内部子集”中查找默认属性值。取决于UA，定义在DTD的外部子集的默认属性值不一定会出现在文档树中。<br>
例如，EXAMPLE元素的notation属性有个默认值为&quot;decimal&quot;。DTD片段可能为：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!ATTLIST</span> <span class="token attr-name">EXAMPLE</span> <span class="token attr-name">notation</span> <span class="token attr-name">(decimal,</span> <span class="token attr-name">octal)</span> <span class="token attr-name">&quot;decimal&quot;</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果样式表中包含如下选择器：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">EXAMPLE[notation=decimal]</span> <span class="token punctuation">{</span><span class="token comment">/*default property settings*/</span><span class="token punctuation">}</span>  
<span class="token selector">EXAMPLE[notation=octal]</span> <span class="token punctuation">{</span><span class="token comment">/*other settings*/</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第一个选择器可能并不会匹配到notation属性被默认设置的元素，也就是说没有显示设置notation属性的元素。为了覆盖所有场景，默认属性值的选择器必须删除：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">EXAMPLE</span> <span class="token punctuation">{</span><span class="token comment">/*default property settings*/</span><span class="token punctuation">}</span>  
<span class="token selector">EXAMPLE[notation=octal]</span> <span class="token punctuation">{</span><span class="token comment">/*other settings*/</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这里，对于notation属性值为&quot;octal&quot;的元素，因为EXAMPLE[notation=octal]选择器比类型原则器更加特别，第二个选择器中申明的样式将会覆盖第一个选择器中的样式。有一点需要铭记，所有仅仅应用于默认场景的样式都将会被非默认场景的样式覆盖。</p> <h3 id="_8-3-类选择器"><a href="#_8-3-类选择器" aria-hidden="true" class="header-anchor">#</a> 8.3 类选择器</h3> <p>在html中，我们使用.号替代~=来表示class属性。<br>
例如，我们给所有的class属性包含pastoral的元素使用如下样式：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*.pastoral</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">}</span>  <span class="token comment">/*all element with class~=pastoral*/</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者直接写为</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.pastral</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如下选择器只给class属性中包含pastoral的H1元素使用样式：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">H1.pastoral</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">}</span> <span class="token comment">/*H1 element with class~=pastoral*/</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也就是说如下代码中，只有第二个H1元素的文本将会是绿色的。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>H1</span><span class="token punctuation">&gt;</span></span>Not green<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>H1</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>H1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>pastoral<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Very green<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>H1</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>类选择器也可以用来匹配class属性值的子集，如下：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p.marine.pastoral</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如下将会选中class属性值中包含有marine和pastoral的P元素。也就是说上面这条规则将会匹配到class=&quot;pastoral blue aqua marine&quot;的P元素，但是不会匹配到class=&quot;pastoral blue&quot;的P元素。</p> <blockquote><p>css让元素的class属性变得非常强大，开发者可以通过给元素的class属性指定样式属性来定义自己的&quot;文档语言&quot;，例如可以使用SPAN表示DIV。我们应该避免这样的做法，因为html中结构化的元素有着特定的含义，而开发者自定的样式类却没有。</p></blockquote> <h2 id="_9-id选择器"><a href="#_9-id选择器" aria-hidden="true" class="header-anchor">#</a> 9. ID选择器</h2> <p>在html中，所有的元素都可以通过ID来唯一表示。ID选择器由&quot;#&quot;加元素的ID属性值组成。<br>
如下的ID选择器选中ID属性值为&quot;chapter1&quot;的H1元素：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1#chapter1</span> <span class="token punctuation">{</span><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面的这段代码中，选择器将会匹配ID属性值为&quot;z98y&quot;的元素：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HEAD</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TITLE</span><span class="token punctuation">&gt;</span></span>Match P<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TITLE</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>STYLE</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
        <span class="token selector">*#z98y</span> <span class="token punctuation">{</span><span class="token property">letter-spacing</span><span class="token punctuation">:</span> 0.3em<span class="token punctuation">}</span>  
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>STYLE</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HEAD</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BODY</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>z98y<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Wide text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BODY</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>而在在下面的代码中，选择器将只会匹配到ID属性值为&quot;z98y&quot;的H1元素，而不会匹配到P元素：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HEAD</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TITLE</span><span class="token punctuation">&gt;</span></span>Match H1 only<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TITLE</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>STYLE</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">H1#z98y</span> <span class="token punctuation">{</span> <span class="token property">letter-spacing</span><span class="token punctuation">:</span> 0.5em <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>STYLE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HEAD</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BODY</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>z98y</span><span class="token punctuation">&gt;</span></span>Wide text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BODY</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在html中，ID选择器的优先级比属性选择器的优先级高，例如选择器#p123将比选择器[id=p123]的优先级高。</p> <h2 id="_10-伪元素和伪类"><a href="#_10-伪元素和伪类" aria-hidden="true" class="header-anchor">#</a> 10. 伪元素和伪类</h2> <p>在CSS2.1中，样式通常应用于文档树中的某个元素。这种简单的模型可以满足大多数场景的需要，但是在某些特殊场景中，这样的模型就不能满足需要了。例如，在HTML4中，没有元素可以表示段落的第一行，因此没有选择器可以选中段落的第一行。</p> <p>CSS引入伪类和伪元素的概念来给文档树以外的信息添加样式。</p> <ul><li>伪元素提供了对文档树除了文档语言定义的内容以外的抽象。举个例子，文档语言并没有提供可以访问元素内容第一个字母或者第一行的机制。CSS伪元素给样式开发者提供了这样的方式。伪元素甚至可以让样式开发者给文档树中不存在的内容添加样式（:before和:after伪元素可以用来创建内容）。</li> <li>伪类按照元素的特征来将元素分类，而不是按照元素的名称、属性或者内容。大体上来说，这些特征不能从文档树中推导出来。比如，有些伪类是动态的，也就是说一个元素可能根据用户与文档的互动而获得或者失去一个伪类。然而，也有例外的情况，&quot;first-child&quot;和&quot;:lang()&quot;均可以从文档树中推导出。</li></ul> <p>伪类和伪元素既不出现在文档源代码中，也不出现在文档树中。</p> <p>伪类可以出现在任何选择器中，而伪元素只能追加在选择器的最后一个单个简单选择器后面。</p> <p>伪类和伪元素的名字大小写敏感。</p> <h2 id="_11-伪类"><a href="#_11-伪类" aria-hidden="true" class="header-anchor">#</a> 11. 伪类</h2> <h3 id="_11-1-first-child伪类"><a href="#_11-1-first-child伪类" aria-hidden="true" class="header-anchor">#</a> 11.1 :first-child伪类</h3> <p>:first-child伪类匹配那些是其父元素的第一个子元素的元素。<br>
如下的例子中，选择器匹配任何一个是DIV元素的第一个子元素的P元素。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div &gt; p:first-child</span> <span class="token punctuation">{</span><span class="token property">text-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在下面的代码片段中，上述选择器会选中DIV中的P元素:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span> The last P before the note.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DIV</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>note<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span> The first P inside the note.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DIV</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>但是不会匹配如下代码片段中的P元素：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span> The last P before the note.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DIV</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>note<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>H2</span><span class="token punctuation">&gt;</span></span>Note<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>H2</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span> The first P inside the note.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DIV</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>下面的选择器将设置P元素的后代EM元素的字体为粗体，前提是这个P元素是其父元素的第一个子元素。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p:first-child em</span> <span class="token punctuation">{</span><span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意： 因为匿名盒子并不是文档树的一部分，因此当计算第一个子元素的时候，并不会计算匿名盒子。如下面的：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span>abc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EM</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EM</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>EM元素是P的第一个子元素。<br>
下面的这两个选择器是等价的：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code>* &gt; <span class="token property">a</span><span class="token punctuation">:</span>first-child  <span class="token comment">/*A is first child of any element*/</span>  
<span class="token property">a</span><span class="token punctuation">:</span>first-child <span class="token comment">/*Same*/</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_11-2链接伪类-link-和-visited"><a href="#_11-2链接伪类-link-和-visited" aria-hidden="true" class="header-anchor">#</a> 11.2链接伪类: :link 和 :visited</h3> <p>UA通常要区别显示未访问的链接和已访问的链接。CSS提供&quot;:link&quot;和&quot;:visited&quot;来区别这两种状态：</p> <ul><li>:link 应用于没有被访问的链接</li> <li>:visited 应用于已经别访问的链接<br>
这两种状态互斥。<br>
文档语言决定了什么元素是超链接。比如，在html4中，链接的伪类应用于有&quot;href&quot;属性的A元素。因此，如下CSS2.1的申明有相同的效果：</li></ul> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">a:link</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>  
<span class="token selector">:link</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果下面的链接：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt; a class=&quot;external&quot; href=&quot;http://out.side/&quot;&gt;external link&lt;/&gt;  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>被访问过，那么，</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">a.external:visited</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue <span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将会将它变成蓝色。</p> <h3 id="_11-3-动态伪类：-hover-active和-focus"><a href="#_11-3-动态伪类：-hover-active和-focus" aria-hidden="true" class="header-anchor">#</a> 11.3 动态伪类： :hover,:active和:focus</h3> <p>可交互的UA有时候会根据用户的动作来改变显示状态。CSS提供三个伪类：</p> <ul><li>:hover 应用于用户（通过某些指针设备）指定某个元素但没有激活该元素时。例如，用户将光标（鼠标指针）悬停在元素的盒子上时。</li> <li>:active 应用于被用户激活了的元素。如用户点击鼠标之后，放开鼠标之前。</li> <li>:focus 应用于当元素获得焦点时。</li></ul> <p>一个元素可以同时被多个伪类选中。</p> <p>CSS2.1未定义正在:active或者:hover状态的父元素，其子元素是否也在那个状态。<br>
UA并不被强制要求根据伪类的变化来刷新当前显示的文档流。比如，样式表中指定:active的链接的字号要比未被激活的链接的字号大，但是这样可能导致文字改变位置，因此UA可能会忽视这样的规则。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">a:link</span>    <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token punctuation">}</span>    <span class="token comment">/* unvisited links */</span>
<span class="token selector">a:visited</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue <span class="token punctuation">}</span>   <span class="token comment">/* visited links   */</span>
<span class="token selector">a:hover</span>   <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> yellow <span class="token punctuation">}</span> <span class="token comment">/* user hovers     */</span>
<span class="token selector">a:active</span>  <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> lime <span class="token punctuation">}</span>   <span class="token comment">/* active links    */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意，A:hover必须要放在A:link和A:visited之后，否则样式层叠规则将会隐藏A:hover的'color'属性。同样的，A:active在A:hover之后，当用户激活并悬停在A元素上时，A的颜色将会是lime。</p> <p>混合使用动态伪类：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">a:focus</span> <span class="token punctuation">{</span> <span class="token property">background</span><span class="token punctuation">:</span> yellow <span class="token punctuation">}</span>
<span class="token selector">a:focus:hover</span> <span class="token punctuation">{</span> <span class="token property">background</span><span class="token punctuation">:</span> white <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>最后一个选择器将会选中在:focus和:hover状态的A元素。</p> <h3 id="_11-4语言伪类-lang"><a href="#_11-4语言伪类-lang" aria-hidden="true" class="header-anchor">#</a> 11.4语言伪类: :lang</h3> <p>如果文档语言指定了如何检测元素使用的人类语言，那么就可以通过css选择器来选中这个元素。例如，在html中，元素的语言通过lang属性、META元素或者来自协议中的信息（如HTTP的头）来确定。<br>
&quot;:lang(C)&quot;伪类匹配语言为C的元素。匹配模式与&quot;|=&quot;相同，即元素的lang属性值与C相同，或者是以C加&quot;-&quot;开头的字符串。在进行语言匹配的时候，字符大小写敏感且只能在ASCII范围内。C不强制要求是一个有效的语言名，但不能为空。<br>
下面的选择器当语言为加拿大法语或德语是设置HTML文档中的引用标记：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">html:lang(fr-ca)</span> <span class="token punctuation">{</span> <span class="token property">quotes</span><span class="token punctuation">:</span> <span class="token string">'« '</span> <span class="token string">' »'</span> <span class="token punctuation">}</span>
<span class="token selector">html:lang(de)</span> <span class="token punctuation">{</span> <span class="token property">quotes</span><span class="token punctuation">:</span> <span class="token string">'»'</span> <span class="token string">'«'</span> <span class="token string">'\2039'</span> <span class="token string">'\203A'</span> <span class="token punctuation">}</span>
<span class="token selector">:lang(fr) &gt; Q</span> <span class="token punctuation">{</span> <span class="token property">quotes</span><span class="token punctuation">:</span> <span class="token string">'« '</span> <span class="token string">' »'</span> <span class="token punctuation">}</span>
<span class="token selector">:lang(de) &gt; Q</span> <span class="token punctuation">{</span> <span class="token property">quotes</span><span class="token punctuation">:</span> <span class="token string">'»'</span> <span class="token string">'«'</span> <span class="token string">'\2039'</span> <span class="token string">'\203A'</span> <span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>注意选择器[lang|=xx]和:lang(xx)的不同。如下HTML片段中，只有BODY会被[lang|=fr]选中（因为它有lang属性），但是BODY和P都将被:lang(fr)选中（因为他们都是法语）。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span>fr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Je suis Français.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote> <h2 id="_12-伪元素"><a href="#_12-伪元素" aria-hidden="true" class="header-anchor">#</a> 12.伪元素</h2> <p>伪元素与真实的元素在CSS中表现几乎一样，但是也有一些不同。</p> <h3 id="_12-1-first-line"><a href="#_12-1-first-line" aria-hidden="true" class="header-anchor">#</a> 12.1 :first-line</h3> <p>:first-line伪元素给段落内容的第一行添加指定的样式。如：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p:first-line</span> <span class="token punctuation">{</span> <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase <span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>表示将所有段落的第一行全部变成大写。但是，选择器&quot;P:first-line&quot;不会匹配任何真实的HTML元素，它将匹配一个伪元素，这个伪元素由UA在每个段落的开头插入。<br>
注意一点，第一行的长度由很多因素决定，包括页面的宽度，字号等。因此，像下面的这一段HTML段落：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span>This is a somewhat long HTML 
paragraph that will be broken into several 
lines. The first line will be identified
by a fictional tag sequence. The other lines 
will be treated as ordinary lines in the 
paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>有可能被像下面这样分行：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>THIS IS A SOMEWHAT LONG HTML PARAGRAPH THAT
will be broken into several lines. The first
line will be identified by a fictional tag 
sequence. The other lines will be treated as 
ordinary lines in the paragraph.  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>之所以如此显示，是因为UA为:first-line添加了虚拟标签序列（fictional tag sequence）。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">P:</span>first-line</span><span class="token punctuation">&gt;</span></span> This is a somewhat long HTML 
paragraph that <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">P:</span>first-line</span><span class="token punctuation">&gt;</span></span> will be broken into several
lines. The first line will be identified 
by a fictional tag sequence. The other lines 
will be treated as ordinary lines in the 
paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如果伪元素截断了真实的元素，那么期望的效果是虚拟标签序列关闭这个元素然后重新开启它。例如，上面的代码中我们增加一个SPAN元素：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SPAN</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> This is a somewhat long HTML
paragraph that will be broken into several
lines.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SPAN</span><span class="token punctuation">&gt;</span></span> The first line will be identified
by a fictional tag sequence. The other lines 
will be treated as ordinary lines in the 
paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>UA在给:first-line插入虚拟标签序列的时候就可以给SPAN模拟一个开始和结束标签。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">P:</span>first-line</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SPAN</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> This is a
somewhat long HTML
paragraph that will <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SPAN</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">P:</span>first-line</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SPAN</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> be
broken into several
lines.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SPAN</span><span class="token punctuation">&gt;</span></span> The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the 
paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>:first-line伪元素只能应用于块容器元素。</p> <p>元素的&quot;第一个格式化行&quot;可能是他在同一个流中的块级后代的&quot;第一个格式化行&quot;，什么是同一个流中的块级后代，也就是，元素的没有浮动也没有设置定位的块级后代。例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DIV</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span>This line...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DIV</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>中DIV的第一行就是P的第一行（假定P和DIV都是块级元素）
table-cell或者是inline-block的第一行不能是他们祖先元素的第一个格式化行。因此，在</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DIV</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">STYLE</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> inline-block</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BR</span><span class="token punctuation">&gt;</span></span>Goodbye<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span> etcetera<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DIV</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>中，DIV第一个格式化行不是&quot;Hello&quot;。</p> <blockquote><p>在如下代码片段中</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>First...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>P的第一行不包含任何字符（使用HTML4中定义的BR默认样式）。&quot;First&quot;不是第一个格式化行。</p></blockquote> <p>:first-line伪元素与行内元素（inline）很像，但是也有一些限制。CSS2.1中规定，这些css属性可以应用于:first-line伪类： 字体属性（font properties）、颜色属性（color property）、背景属性（background properties）、&quot;word-spacing&quot;、&quot;letter-spacing&quot;、&quot;text-decoration&quot;、&quot;text-transform&quot;和&quot;line-height&quot;。UA也可以对其应用其他css样式属性。</p> <h3 id="_12-2-first-letter-伪元素"><a href="#_12-2-first-letter-伪元素" aria-hidden="true" class="header-anchor">#</a> 12.2 :first-letter 伪元素</h3> <p>如果一个块级元素的第一行没有被其他内容（如行内表格或者图片）占据的话看，:first-letter伪元素必须选中第一行的第一个字母。:first-letter伪元素通常被用于&quot;首字母大写&quot;和&quot;首字母下沉&quot;。<br>
这些属性可以被应用于:first-letter伪元素：字体属性（font properties）、&quot;text-decoration&quot;、&quot;text-transform&quot;、&quot;letter-spacing&quot;、&quot;word-spacing&quot;（在合适的时候）、&quot;line-height&quot;、&quot;float&quot;、&quot;vertical-align&quot;(仅当float为none时)、外边距属性（margin properties）、内边距属性（padding properties）、边框属性（border properties）、颜色属性（color property）和背景属性（background properties）。UA也可以应用其他的样式属性。<br>
下面的这个例子展示了首字母大写的一种可能的实现效果。注意，first-letter伪元素继承的&quot;line-height&quot;是1.1，但是UA给首字母计算了一个不同的值来去除前两行间不必要的间距。同时也注意，第一个字母的虚拟开始标签在SPAN中，因此首字母的font weight是normal，不会SPAN的bold。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>p { line-height: 1.1 }
p:first-letter { font-size: 3em; font-weight: normal }
span { font-weight: bold }
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>Het hemelsche<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> gerecht heeft zich ten lange lesten<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
Erbarremt over my en mijn benaeuwde vesten<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
En arme burgery, en op mijn volcx gebed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
En dagelix geschrey de bange stad ontzet.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="http://i.imgur.com/hO01G5B.png" alt=""></p> <p>下面这段代码设置了首字母大写和跨越了两行的首字母下沉。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTML</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HEAD</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TITLE</span><span class="token punctuation">&gt;</span></span>Drop cap initial letter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TITLE</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>STYLE</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
   <span class="token selector">P</span>              <span class="token punctuation">{</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 12pt<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span> 1.2 <span class="token punctuation">}</span>
   <span class="token selector">P:first-letter</span> <span class="token punctuation">{</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span> <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>
                    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span> <span class="token property">float</span><span class="token punctuation">:</span> left <span class="token punctuation">}</span>
   <span class="token selector">SPAN</span>           <span class="token punctuation">{</span> <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>STYLE</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HEAD</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BODY</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SPAN</span><span class="token punctuation">&gt;</span></span>The first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SPAN</span><span class="token punctuation">&gt;</span></span> few words of an article
    in The Economist.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BODY</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HTML</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="http://i.imgur.com/ekyDHPt.png" alt=""></p> <p>UA添加的虚拟标签序列如下：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SPAN</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">P:</span>first-letter</span><span class="token punctuation">&gt;</span></span>
T
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">P:</span>first-letter</span><span class="token punctuation">&gt;</span></span>he first
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SPAN</span><span class="token punctuation">&gt;</span></span> 
few words of an article in the Economist.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>注意，:first-letter伪元素是紧随元素的内容的，而:first-line伪元素的开始标签是被插入到块级元素的开始标签之后的。</p></blockquote> <p>:first-letter伪元素也应用于纯数字，如&quot;67 million dollars is a lot of money&quot;中的&quot;6&quot;。</p> <p>:first-letter伪元素仅用于块容器元素。</p> <p>:first-letter伪元素可被用于所有包含文本或者在相同流中的后代包含文本的元素中。UA应该把:first-letter伪元素的虚拟开始标签放在元素的第一个文本之前，即使这个第一个文本在元素的后代中。<br>
如下代码片段的虚拟标签序列：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The first text.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>是</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">div:</span>first-letter</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">p:</span>first-letter</span><span class="token punctuation">&gt;</span></span>T<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>...</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>...</span><span class="token punctuation">&gt;</span></span>he first text.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>table-cell或行内元素的首字母不能是其祖先元素的首字母。因此，在</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DIV</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">STYLE</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> inline-block</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BR</span><span class="token punctuation">&gt;</span></span>Goodbye<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span> etcetera<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DIV</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>中DIV的首字母不是&quot;H&quot;。实际上，DIV没有首字母。</p> <p>首字母必须在第一个格式化行中。例如： 在片段</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>First... 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>中，第一行不包含任何字母，因此&quot;:first-letter&quot;不匹配任何东西（使用BR在HTML4中的默认样式）。实际上，&quot;:first-letter&quot;不匹配&quot;First&quot;中的&quot;F&quot;。<br>
下面的例子展示了重叠的伪元素如何互相影响。每个P元素的首字母将是绿色的并且字号为24pt。第一行剩余的内容将会使蓝色的，而段落剩余的内容则为红色。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>p { color: red; font-size: 12pt }
p:first-letter { color: green; font-size: 200% }
p:first-line { color: blue }

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span>Some text that ends up on two lines<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>假设在&quot;end&quot;之前换行，那么代码段的虚拟标签列表为：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>P</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">P:</span>first-line</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">P:</span>first-letter</span><span class="token punctuation">&gt;</span></span> 
S 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">P:</span>first-letter</span><span class="token punctuation">&gt;</span></span>ome text that 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">P:</span>first-line</span><span class="token punctuation">&gt;</span></span> 
ends up on two lines 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>P</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>注意，:first-letter元素在:first-line元素内，:first-line的css属性会被:first-letter继承，但是会被:first-letter中的同名属性覆盖。</p> <h3 id="_12-3-before-和-after伪元素"><a href="#_12-3-before-和-after伪元素" aria-hidden="true" class="header-anchor">#</a> 12.3 :before 和 :after伪元素</h3> <p>:before 和 :after伪元素可以被用来在元素内容的前后插入一些生成内容,通常与content属性一同使用。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">h1:before</span> <span class="token punctuation">{</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">counter</span><span class="token punctuation">(</span>chapno<span class="token punctuation">,</span> upper-roman<span class="token punctuation">)</span> <span class="token string">&quot;. &quot;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例如，下面的选择器会在每个class属性值包含note的P元素的内容之前插入一个字符串&quot;Note: &quot;。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p.note:before</span> <span class="token punctuation">{</span> <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;Note: &quot;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>元素盒子包含生成的内容，因此修改一下上面的选择器，</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p.note:before</span> <span class="token punctuation">{</span> <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;Note: &quot;</span> <span class="token punctuation">}</span>
<span class="token selector">p.note</span>        <span class="token punctuation">{</span> <span class="token property">border</span><span class="token punctuation">:</span> solid green <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>将会导致每个段落都包裹在绿色实线边框之中，包括插入的生成字符串。</p> <p>:before和:after伪类将会继承所有可以被继承的元素的属性。<br>
举个例子，下面这个选择器将会给每个Q元素内容之前插入一个开引号。引号的颜色是红色的，但是字体将会与Q元素的字体保持一致。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">q:before</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> open-quote<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在:before或者:after的声明中，没有显示声明也没有继承的属性将使用初始值。<br>
因此，在上面的例子中，因为display属性的初始值为inline,所以引号将作为一个行内盒子（也就是说跟Q元素的内容在同一行）被插入到Q元素内容之前。 当我们设置了display属性为block之后，被插入的内容就变成了块级元素，例如：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;The End&quot;</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>:before和:after伪元素在与其他元素盒子相互作用的时候，表现得就像他们就是真正的元素一样，只不过被放进了绑定他们的那个元素盒子里面。<br>
举个例子，如下的html代码片段和样式表，</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> Text <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>                   p:before { display: block; content: 'Some'; }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将与下面的html片段展现的一模一样。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>Some<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> Text <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>  span { display: block }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所以，当:first-letter和:first-line伪元素被应用于包含由:before和:after生成的内容的元素时，他们应用于包括生成内容在内的元素内容的第一个字母或第一行。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p.special:before</span> <span class="token punctuation">{</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;Special! &quot;</span><span class="token punctuation">}</span>
<span class="token selector">p.special:first-letter</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> #ffd800<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面将&quot;Special&quot;的&quot;S&quot;显示成金色的。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/13/2019, 3:05:16 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.1a92a99b.js" defer></script><script src="/assets/js/2.4bb95436.js" defer></script><script src="/assets/js/13.3780b65b.js" defer></script><script src="/assets/js/9.60a9ad14.js" defer></script>
  </body>
</html>
