<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>五分钟看懂 HTTPS | Bingooo.Tang 的日志</title>
    <meta name="description" content="https introduction">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="preload" href="/assets/css/0.styles.45fd1eb4.css" as="style"><link rel="preload" href="/assets/js/app.1a92a99b.js" as="script"><link rel="preload" href="/assets/js/2.4bb95436.js" as="script"><link rel="preload" href="/assets/js/34.b1e97f3f.js" as="script"><link rel="preload" href="/assets/js/9.60a9ad14.js" as="script"><link rel="prefetch" href="/assets/js/10.ff19f3cc.js"><link rel="prefetch" href="/assets/js/11.e260adce.js"><link rel="prefetch" href="/assets/js/12.e1d4dc76.js"><link rel="prefetch" href="/assets/js/13.3780b65b.js"><link rel="prefetch" href="/assets/js/14.821eca39.js"><link rel="prefetch" href="/assets/js/15.947a489c.js"><link rel="prefetch" href="/assets/js/16.31117fc6.js"><link rel="prefetch" href="/assets/js/17.aa761a41.js"><link rel="prefetch" href="/assets/js/18.38e91cd9.js"><link rel="prefetch" href="/assets/js/19.2f0ddeb0.js"><link rel="prefetch" href="/assets/js/20.98a05b39.js"><link rel="prefetch" href="/assets/js/21.12bee07e.js"><link rel="prefetch" href="/assets/js/22.825b5c65.js"><link rel="prefetch" href="/assets/js/23.5a7523f8.js"><link rel="prefetch" href="/assets/js/24.d4db672e.js"><link rel="prefetch" href="/assets/js/25.9dc639ba.js"><link rel="prefetch" href="/assets/js/26.bb89ef52.js"><link rel="prefetch" href="/assets/js/27.9b952333.js"><link rel="prefetch" href="/assets/js/28.36b12119.js"><link rel="prefetch" href="/assets/js/29.b3fc89ab.js"><link rel="prefetch" href="/assets/js/3.914428ae.js"><link rel="prefetch" href="/assets/js/30.8403f552.js"><link rel="prefetch" href="/assets/js/31.3a71fc7c.js"><link rel="prefetch" href="/assets/js/32.f63547d0.js"><link rel="prefetch" href="/assets/js/33.30c37fb4.js"><link rel="prefetch" href="/assets/js/35.ab2a7a8c.js"><link rel="prefetch" href="/assets/js/36.5d422d5b.js"><link rel="prefetch" href="/assets/js/37.839e7d79.js"><link rel="prefetch" href="/assets/js/38.72e8bf2f.js"><link rel="prefetch" href="/assets/js/39.9a05368b.js"><link rel="prefetch" href="/assets/js/4.5c559b86.js"><link rel="prefetch" href="/assets/js/40.a8400673.js"><link rel="prefetch" href="/assets/js/41.ead2592b.js"><link rel="prefetch" href="/assets/js/42.2b99ba39.js"><link rel="prefetch" href="/assets/js/43.340f4287.js"><link rel="prefetch" href="/assets/js/44.6bf6391c.js"><link rel="prefetch" href="/assets/js/45.c33e2690.js"><link rel="prefetch" href="/assets/js/46.acfb4c4c.js"><link rel="prefetch" href="/assets/js/47.0d284677.js"><link rel="prefetch" href="/assets/js/48.7e5faf9d.js"><link rel="prefetch" href="/assets/js/49.70243ee5.js"><link rel="prefetch" href="/assets/js/5.4f064dd5.js"><link rel="prefetch" href="/assets/js/50.a70d1e3a.js"><link rel="prefetch" href="/assets/js/51.54705e9f.js"><link rel="prefetch" href="/assets/js/52.5e8b3d7e.js"><link rel="prefetch" href="/assets/js/53.03656bc8.js"><link rel="prefetch" href="/assets/js/54.d3b3024e.js"><link rel="prefetch" href="/assets/js/55.b8b66fcf.js"><link rel="prefetch" href="/assets/js/56.bcc27a01.js"><link rel="prefetch" href="/assets/js/57.dd12e611.js"><link rel="prefetch" href="/assets/js/6.8113e0b5.js"><link rel="prefetch" href="/assets/js/7.222800b2.js"><link rel="prefetch" href="/assets/js/8.84f16d44.js">
    <link rel="stylesheet" href="/assets/css/0.styles.45fd1eb4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Bingooo.Tang 的日志</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">教程</a></div><div class="nav-item"><a href="/tools/" class="nav-link">工具</a></div> <a href="https://github.com/bingoootang" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">教程</a></div><div class="nav-item"><a href="/tools/" class="nav-link">工具</a></div> <a href="https://github.com/bingoootang" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="content default"><h1 id="五分钟看懂-https"><a href="#五分钟看懂-https" aria-hidden="true" class="header-anchor">#</a> 五分钟看懂 HTTPS</h1> <p>HTTPS 的基础是密码学，而密码学是一门非常复杂的科学，里面包含了大量的数学证明。但是，作为使用者来说，我们不需要了解每一个算法和具体的证明过程，仅仅知道大概的原理就可以了。</p> <p>在互联网上，我们所有的活动（比如购物、浏览网页等），最终都归于客户端向服务器发送信息和客户端从服务器接收信息。为了方便理解，我们称呼客户端为 Alice，服务器为 Bob，Alice 和 Bob 之间通过信鸽来传递信息。</p> <h2 id="简单的原始通信"><a href="#简单的原始通信" aria-hidden="true" class="header-anchor">#</a> 简单的原始通信</h2> <p>如果 Alice 想给 Bob 发消息，那么 Alice 将消息内容绑在信鸽的腿上，信鸽将消息带给 Bob。Bob 打开纸条就可阅读消息了。但是，现在有个叫 Mallory 的家伙，他在中途抓住了信鸽，并修改了消息的内容。那么在接收到消息的时候，Bob 是不知道消息是已经被修改过的。并且，Bob 也无法判断消息是否被修改过。<br>
这其实就是 HTTP 的运行过程。大家应该都有这样一个经历，在使用家里的宽带上网的时候，经常会在浏览器的右下角弹出各种小广告，很多时候原因就是数据请求被运营商劫持了，在 HTTP 协议下，运营商修改了服务器返回的内容，向其中插入了广告。</p> <h2 id="对信息进行加密"><a href="#对信息进行加密" aria-hidden="true" class="header-anchor">#</a> 对信息进行加密</h2> <p>为了避免信息在中途被截获，Alice 和 Bob 约定了一个密码，每次发送信息的时候，将每个字母按照字母表的顺序向前移动三位。也就是说，如果 Alice 发送“secret message”，Bob 接收到信息应该是“pbzobq jbppxdb”。Bob 收到信息后再将每个字母按照字母表的顺序向后移动三位即可解读出信息内容。信息经过加密后，即使 Mallory 抓住了信鸽获取到了信息，但是因为不知道信息的加密规则，因此也无法知道具体的信息内容。</p> <p>这一种加密方法叫做对称秘钥加密，因为知道如何加密信息就知道如何解密信息。上面例子中的加密算法叫做凯撒加密方法，现实中的例子会更加复杂，但是基本道理是一样的。</p> <p>对称秘钥加密固然可以解决信息的加密问题，但是无法解决密钥的传输问题。试想，Alice 如何能够保证在将密钥传递给 Bob 的时候不被 Mallory 截获呢？假设 Alice 和 Bob 之前从未通信过，那么在第一次通信时，Alice 将密钥传递给 Bob。如果密钥被 Mallory 截获，那么 Mallory 将可以知道 Alice 发给 Bob 的全部消息，并可以进行修改。此时整个加密系统都已经失效了。这就是中间人攻击的典型例子。</p> <h2 id="更好的加密方式"><a href="#更好的加密方式" aria-hidden="true" class="header-anchor">#</a> 更好的加密方式</h2> <p>对称秘钥加密解决了信息的加密传输问题，但是无法保证秘钥的加密传输。为了解决这个问题，Alice 和 Bob 使用了另一种信息传递方法。如果 Alice 想给 Bob 发消息时，她将经过如下步骤：</p> <ul><li>Alice 先让信鸽飞到 Bob 那里，不携带任何信息。</li> <li>Bob 让信鸽飞回，同时携带一个打开的小空盒子。</li> <li>Alice 将信息纸条放到空盒子中，并锁上盒子上的锁。</li> <li>信息飞回 Bob 那里，Bob 用自己的钥匙打开盒子，阅读消息。</li></ul> <p>Bob 要给 Alice 发信息的时候，也遵循同样的方式。在整个通信过程中，Mallory 将无从知道密钥，因为盒子中没有携带任何密钥信息。</p> <p>这种加密方式被成为非对称密钥加密。之所以叫非对称，是因为即使你知道如何加密信息（关闭盒子上的锁），你也不知道如何解密信息（打开盒子）。技术上说，上面例子中的盒子被成为公钥，可以打开盒子的钥匙被成为私钥。</p> <h2 id="信任问题"><a href="#信任问题" aria-hidden="true" class="header-anchor">#</a> 信任问题</h2> <p>非对称秘钥加密也没有完全解决问题。如果 Mallory 将信鸽携带的盒子换掉，换成自己可以打开的盒子，那么 Alice 发给 Bob 的信息还是可以被 Mallory 获取到。为了解决这个问题，Alice 和 Bob 都开始对盒子进行标记。如果 Alice 和 Bob 事前都不知道对方的标记方式呢？此时，Alice 和 Bob 选择了让德高望重、大家都相信的 Ted 来对盒子进行标记。Ted 只有确定标记盒子的请求发起人是 Alice 的时候，才会给盒子做上含有 Alice 信息的标记。当 Mallory 修改标记后，Bob 就会发现盒子是假的，因为 Ted 只给合法的人标记盒子。</p> <p>技术上说 Ted 的角色被叫做认证中心（Certification Authority）。我们的浏览器中包含了很多认证中心颁发的证书。当我们第一次访问一个网站时，如果这个网站的证书经过认证中心的认证，那么我们就认为这个网站是安全的。</p> <h2 id="效率问题"><a href="#效率问题" aria-hidden="true" class="header-anchor">#</a> 效率问题</h2> <p>现在，Alice 和 Bob 拥有了一套安全的信息传递系统。但是，他们发现每次信鸽携带一个盒子来传递信息要比单纯的传递信息要慢。因此，他们决定通过非对称密钥加密的方法来传递密钥，用对称密钥加密的方法来传递消息。这样既有了非对称加密的安全性，又有了对称加密的效率。<br>
在实际使用中，我们并不会通过信鸽来传递消息，但是采用非对称加密确实比采用对称加密效率低一些，因此，我们也常常使用非对称加密传递密钥，使用对称加密传递信息。</p> <p>以上就是 HTTPS 相关的全部内容。是不是在不了解具体加密算法的前提下，也能知道 HTTPS 大概的工作原理呢？</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/13/2019, 3:05:16 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.1a92a99b.js" defer></script><script src="/assets/js/2.4bb95436.js" defer></script><script src="/assets/js/34.b1e97f3f.js" defer></script><script src="/assets/js/9.60a9ad14.js" defer></script>
  </body>
</html>
